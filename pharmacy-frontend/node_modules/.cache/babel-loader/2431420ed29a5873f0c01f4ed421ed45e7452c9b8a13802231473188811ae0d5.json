{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../context/AuthContext';import PurchaseModal from'./PurchaseModal';import'./MedicineCard.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MedicineCard=_ref=>{let{medicine}=_ref;const[showPurchaseModal,setShowPurchaseModal]=useState(false);if(!medicine)return null;const priceNumber=Number(medicine.price);const displayPrice=Number.isFinite(priceNumber)?priceNumber:0;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"medicine-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"medicine-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:medicine.image||'https://via.placeholder.com/300x200/228B22/FFFFFF?text=Medicine',alt:medicine.name,className:\"medicine-image\",onError:e=>{e.target.src='https://via.placeholder.com/300x200/228B22/FFFFFF?text=Medicine';}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"medicine-content\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"medicine-name\",children:medicine.name}),/*#__PURE__*/_jsx(\"p\",{className:\"medicine-description\",children:medicine.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"medicine-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"medicine-price\",children:[\"$\",displayPrice.toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPurchaseModal(true),className:\"btn btn-primary btn-purchase\",disabled:medicine.stock===0,children:medicine.stock===0?'Out of Stock':'Purchase'})]})]})]}),showPurchaseModal&&/*#__PURE__*/_jsx(PurchaseModal,{medicine:medicine,onClose:()=>setShowPurchaseModal(false)})]});};export default MedicineCard;","map":{"version":3,"names":["React","useState","useAuth","PurchaseModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MedicineCard","_ref","medicine","showPurchaseModal","setShowPurchaseModal","priceNumber","Number","price","displayPrice","isFinite","children","className","src","image","alt","name","onError","e","target","description","toFixed","onClick","disabled","stock","onClose"],"sources":["/workspaces/intarepharmacy-v3/pharmacy-frontend/src/components/MedicineCard.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport PurchaseModal from './PurchaseModal';\nimport './MedicineCard.css';\n\nconst MedicineCard = ({ medicine }) => {\n  const [showPurchaseModal, setShowPurchaseModal] = useState(false);\n\n  if (!medicine) return null;\n\n  const priceNumber = Number(medicine.price);\n  const displayPrice = Number.isFinite(priceNumber) ? priceNumber : 0;\n  return (\n    <>\n      <div className=\"medicine-card\">\n        <div className=\"medicine-image-container\">\n          <img \n            src={medicine.image || 'https://via.placeholder.com/300x200/228B22/FFFFFF?text=Medicine'} \n            alt={medicine.name}\n            className=\"medicine-image\"\n            onError={(e) => {\n              e.target.src = 'https://via.placeholder.com/300x200/228B22/FFFFFF?text=Medicine';\n            }}\n          />\n        </div>\n        \n        <div className=\"medicine-content\">\n          <h3 className=\"medicine-name\">{medicine.name}</h3>\n          <p className=\"medicine-description\">{medicine.description}</p>\n          \n          <div className=\"medicine-footer\">\n            <div className=\"medicine-price\">${displayPrice.toFixed(2)}</div>\n            <button\n              onClick={() => setShowPurchaseModal(true)}\n              className=\"btn btn-primary btn-purchase\"\n              disabled={medicine.stock === 0}\n            >\n              {medicine.stock === 0 ? 'Out of Stock' : 'Purchase'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {showPurchaseModal && (\n        <PurchaseModal\n          medicine={medicine}\n          onClose={() => setShowPurchaseModal(false)}\n        />\n      )}\n    </>\n  );\n};\n\nexport default MedicineCard;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,OAAO,KAAQ,wBAAwB,CAChD,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE5B,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAChC,KAAM,CAACE,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAEjE,GAAI,CAACW,QAAQ,CAAE,MAAO,KAAI,CAE1B,KAAM,CAAAG,WAAW,CAAGC,MAAM,CAACJ,QAAQ,CAACK,KAAK,CAAC,CAC1C,KAAM,CAAAC,YAAY,CAAGF,MAAM,CAACG,QAAQ,CAACJ,WAAW,CAAC,CAAGA,WAAW,CAAG,CAAC,CACnE,mBACER,KAAA,CAAAE,SAAA,EAAAW,QAAA,eACEb,KAAA,QAAKc,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5Bf,IAAA,QAAKgB,SAAS,CAAC,0BAA0B,CAAAD,QAAA,cACvCf,IAAA,QACEiB,GAAG,CAAEV,QAAQ,CAACW,KAAK,EAAI,iEAAkE,CACzFC,GAAG,CAAEZ,QAAQ,CAACa,IAAK,CACnBJ,SAAS,CAAC,gBAAgB,CAC1BK,OAAO,CAAGC,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACN,GAAG,CAAG,iEAAiE,CAClF,CAAE,CACH,CAAC,CACC,CAAC,cAENf,KAAA,QAAKc,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eAC/Bf,IAAA,OAAIgB,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAER,QAAQ,CAACa,IAAI,CAAK,CAAC,cAClDpB,IAAA,MAAGgB,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAER,QAAQ,CAACiB,WAAW,CAAI,CAAC,cAE9DtB,KAAA,QAAKc,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9Bb,KAAA,QAAKc,SAAS,CAAC,gBAAgB,CAAAD,QAAA,EAAC,GAAC,CAACF,YAAY,CAACY,OAAO,CAAC,CAAC,CAAC,EAAM,CAAC,cAChEzB,IAAA,WACE0B,OAAO,CAAEA,CAAA,GAAMjB,oBAAoB,CAAC,IAAI,CAAE,CAC1CO,SAAS,CAAC,8BAA8B,CACxCW,QAAQ,CAAEpB,QAAQ,CAACqB,KAAK,GAAK,CAAE,CAAAb,QAAA,CAE9BR,QAAQ,CAACqB,KAAK,GAAK,CAAC,CAAG,cAAc,CAAG,UAAU,CAC7C,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CAELpB,iBAAiB,eAChBR,IAAA,CAACF,aAAa,EACZS,QAAQ,CAAEA,QAAS,CACnBsB,OAAO,CAAEA,CAAA,GAAMpB,oBAAoB,CAAC,KAAK,CAAE,CAC5C,CACF,EACD,CAAC,CAEP,CAAC,CAED,cAAe,CAAAJ,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}