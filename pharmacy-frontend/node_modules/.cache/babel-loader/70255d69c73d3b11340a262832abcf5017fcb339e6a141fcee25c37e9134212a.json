{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate,useLocation}from'react-router-dom';import{AuthProvider,useAuth}from'./context/AuthContext';import Home from'./pages/Home.jsx';import Login from'./pages/Login.jsx';import AdminDashboard from'./pages/AdminDashboard.jsx';import PharmacistDashboard from'./pages/PharmacistDashboard.jsx';import Medicines from'./pages/Medicines.jsx';import About from'./pages/About.jsx';import Contact from'./pages/Contact.jsx';import Appointment from'./pages/Appointment.jsx';import Navbar from'./components/Navbar';import Footer from'./components/Footer';import ScrollToTop from'./components/ScrollToTop';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ConditionalNavbar=()=>{const location=useLocation();const isDashboard=location.pathname==='/admin'||location.pathname==='/pharmacist';if(isDashboard){return null;}return/*#__PURE__*/_jsx(Navbar,{});};const ConditionalFooter=()=>{const location=useLocation();const isDashboard=location.pathname==='/admin'||location.pathname==='/pharmacist';if(isDashboard){return null;}return/*#__PURE__*/_jsx(Footer,{});};const PrivateRoute=_ref=>{let{children,allowedRoles}=_ref;const{user,isLoading}=useAuth();if(isLoading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}if(allowedRoles&&!allowedRoles.includes(user.role)){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return children;};function AppRoutes(){return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/medicines\",element:/*#__PURE__*/_jsx(Medicines,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Contact,{})}),/*#__PURE__*/_jsx(Route,{path:\"/appointment\",element:/*#__PURE__*/_jsx(Appointment,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(PrivateRoute,{allowedRoles:['admin'],children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/pharmacist\",element:/*#__PURE__*/_jsx(PrivateRoute,{allowedRoles:['pharmacist','admin'],children:/*#__PURE__*/_jsx(PharmacistDashboard,{})})})]});}function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(ConditionalNavbar,{}),/*#__PURE__*/_jsx(AppRoutes,{}),/*#__PURE__*/_jsx(ConditionalFooter,{}),/*#__PURE__*/_jsx(ScrollToTop,{})]})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","useLocation","AuthProvider","useAuth","Home","Login","AdminDashboard","PharmacistDashboard","Medicines","About","Contact","Appointment","Navbar","Footer","ScrollToTop","jsx","_jsx","jsxs","_jsxs","ConditionalNavbar","location","isDashboard","pathname","ConditionalFooter","PrivateRoute","_ref","children","allowedRoles","user","isLoading","to","includes","role","AppRoutes","path","element","App","className"],"sources":["/workspaces/intarepharmacy-v3/pharmacy-frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useLocation } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport Home from './pages/Home.jsx';\nimport Login from './pages/Login.jsx';\nimport AdminDashboard from './pages/AdminDashboard.jsx';\nimport PharmacistDashboard from './pages/PharmacistDashboard.jsx';\nimport Medicines from './pages/Medicines.jsx';\nimport About from './pages/About.jsx';\nimport Contact from './pages/Contact.jsx';\nimport Appointment from './pages/Appointment.jsx';\nimport Navbar from './components/Navbar';\nimport Footer from './components/Footer';\nimport ScrollToTop from './components/ScrollToTop';\nimport './App.css';\n\nconst ConditionalNavbar = () => {\n  const location = useLocation();\n  const isDashboard = location.pathname === '/admin' || location.pathname === '/pharmacist';\n  \n  if (isDashboard) {\n    return null;\n  }\n  \n  return <Navbar />;\n};\n\nconst ConditionalFooter = () => {\n  const location = useLocation();\n  const isDashboard = location.pathname === '/admin' || location.pathname === '/pharmacist';\n  \n  if (isDashboard) {\n    return null;\n  }\n  \n  return <Footer />;\n};\n\nconst PrivateRoute = ({ children, allowedRoles }) => {\n  const { user, isLoading } = useAuth();\n  \n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n  \n  if (!user) {\n    return <Navigate to=\"/login\" />;\n  }\n  \n  if (allowedRoles && !allowedRoles.includes(user.role)) {\n    return <Navigate to=\"/\" />;\n  }\n  \n  return children;\n};\n\nfunction AppRoutes() {\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Home />} />\n      <Route path=\"/medicines\" element={<Medicines />} />\n      <Route path=\"/about\" element={<About />} />\n      <Route path=\"/contact\" element={<Contact />} />\n      <Route path=\"/appointment\" element={<Appointment />} />\n      <Route path=\"/login\" element={<Login />} />\n      <Route\n        path=\"/admin\"\n        element={\n          <PrivateRoute allowedRoles={['admin']}>\n            <AdminDashboard />\n          </PrivateRoute>\n        }\n      />\n      <Route\n        path=\"/pharmacist\"\n        element={\n          <PrivateRoute allowedRoles={['pharmacist', 'admin']}>\n            <PharmacistDashboard />\n          </PrivateRoute>\n        }\n      />\n    </Routes>\n  );\n}\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <div className=\"App\">\n          <ConditionalNavbar />\n          <AppRoutes />\n          <ConditionalFooter />\n          <ScrollToTop />\n        </div>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}