{"ast":null,"code":"import _objectSpread from\"C:/Users/coding.PROGR-PC4/Documents/intarepharmacy-v2/pharmacy-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import StockAlerts from'../components/StockAlerts';import Loader from'../components/Loader';import PageTransition from'../components/PageTransition';import ConfirmationModal from'../components/ConfirmationModal';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{var _confirmModal$pharmac;const{pharmacists,setPharmacists,medicines,getStockAlerts,user,logout,fetchMedicines}=useAuth();const navigate=useNavigate();const[contacts,setContacts]=useState([]);const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);const[confirmModal,setConfirmModal]=useState({isOpen:false,pharmacist:null});const handleLogout=()=>{logout();navigate('/');};const[showModal,setShowModal]=useState(false);const[editingPharmacist,setEditingPharmacist]=useState(null);const[formData,setFormData]=useState({name:'',email:'',phone:'',license:''});const alerts=getStockAlerts();// Fetch data from backend\nReact.useEffect(()=>{const fetchData=async()=>{setLoading(true);const apiUrl=process.env.REACT_APP_BACKEND_URL||'http://localhost:5000';const token=localStorage.getItem('token');try{// Fetch pharmacists\nconst pharmacistResponse=await fetch(\"\".concat(apiUrl,\"/api/admin/pharmacists\"),{headers:{'Authorization':\"Bearer \".concat(token)}});console.log('Pharmacist response status:',pharmacistResponse.status);if(pharmacistResponse.ok){const pharmacistData=await pharmacistResponse.json();console.log('Pharmacist data:',pharmacistData);setPharmacists(pharmacistData.map(p=>_objectSpread(_objectSpread({},p),{},{id:p._id})));}else{console.error('Failed to fetch pharmacists:',pharmacistResponse.statusText);}// Fetch contacts\nconst contactResponse=await fetch(\"\".concat(apiUrl,\"/api/contact\"));if(contactResponse.ok){const contactData=await contactResponse.json();setContacts(contactData);}// Fetch orders\nconst orderResponse=await fetch(\"\".concat(apiUrl,\"/api/purchases\"));if(orderResponse.ok){const orderData=await orderResponse.json();setOrders(orderData);}// Fetch medicines\nawait fetchMedicines();}catch(error){console.error('Failed to fetch data:',error);}finally{setTimeout(()=>setLoading(false),1000);}};fetchData();},[fetchMedicines]);// Calculate stock statistics\nconst stockStats={totalMedicines:medicines.length,totalStockValue:medicines.reduce((sum,m)=>sum+m.price*m.stock,0),totalUnits:medicines.reduce((sum,m)=>sum+m.stock,0),lowStockCount:medicines.filter(m=>m.stock<20&&m.stock>0).length,outOfStockCount:medicines.filter(m=>m.stock===0).length,averageStock:medicines.length>0?Math.round(medicines.reduce((sum,m)=>sum+m.stock,0)/medicines.length):0,stockByCategory:medicines.reduce((acc,m)=>{acc[m.category]=(acc[m.category]||0)+m.stock;return acc;},{})};const handleInputChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();const apiUrl=process.env.REACT_APP_BACKEND_URL||'http://localhost:5000';const token=localStorage.getItem('token');try{if(editingPharmacist){// Update existing pharmacist\nawait fetch(\"\".concat(apiUrl,\"/api/admin/pharmacists/\").concat(editingPharmacist.id),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(formData)});}else{// Add new pharmacist\nawait fetch(\"\".concat(apiUrl,\"/api/admin/pharmacists\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(formData)});}// Refresh pharmacists list\nconst response=await fetch(\"\".concat(apiUrl,\"/api/admin/pharmacists\"),{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){const data=await response.json();setPharmacists(data.map(p=>_objectSpread(_objectSpread({},p),{},{id:p._id})));}handleCloseModal();}catch(error){console.error('Error saving pharmacist:',error);}};const handleEdit=pharmacist=>{setEditingPharmacist(pharmacist);setFormData({name:pharmacist.name,email:pharmacist.email,phone:pharmacist.phone,license:pharmacist.license});setShowModal(true);};const handleDelete=id=>{const pharmacist=pharmacists.find(p=>p.id===id);setConfirmModal({isOpen:true,pharmacist});};const confirmDelete=async()=>{if(confirmModal.pharmacist){const apiUrl=process.env.REACT_APP_BACKEND_URL||'http://localhost:5000';const token=localStorage.getItem('token');try{await fetch(\"\".concat(apiUrl,\"/api/admin/pharmacists/\").concat(confirmModal.pharmacist.id),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(token)}});// Refresh pharmacists list\nsetPharmacists(prev=>prev.filter(p=>p.id!==confirmModal.pharmacist.id));}catch(error){console.error('Error deleting pharmacist:',error);}}setConfirmModal({isOpen:false,pharmacist:null});};const cancelDelete=()=>{setConfirmModal({isOpen:false,pharmacist:null});};const handleCloseModal=()=>{setShowModal(false);setEditingPharmacist(null);setFormData({name:'',email:'',phone:'',license:''});};if(loading)return/*#__PURE__*/_jsx(Loader,{});return/*#__PURE__*/_jsx(PageTransition,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-topbar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"topbar-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-logout-section\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"user-name-display\",children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"btn-logout-dashboard\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"logout-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-arrow-right-from-bracket\"})}),\"Logout\"]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Pharmacists\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowModal(true),className:\"btn btn-primary\",children:\"+ Add Pharmacist\"})]}),alerts.length>0&&/*#__PURE__*/_jsx(StockAlerts,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Stock Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDC8A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stockStats.totalMedicines}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Medicines\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stockStats.totalUnits}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Units in Stock\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDCB0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"$\",stockStats.totalStockValue.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Stock Value\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card stat-warning\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stockStats.lowStockCount}),/*#__PURE__*/_jsx(\"p\",{children:\"Low Stock Items\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card stat-danger\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDEAB\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stockStats.outOfStockCount}),/*#__PURE__*/_jsx(\"p\",{children:\"Out of Stock\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stockStats.averageStock}),/*#__PURE__*/_jsx(\"p\",{children:\"Average Stock Level\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-stock\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Stock by Category\"}),/*#__PURE__*/_jsx(\"div\",{className:\"category-grid\",children:Object.entries(stockStats.stockByCategory).map(_ref=>{let[category,stock]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"category-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"category-name\",children:category}),/*#__PURE__*/_jsxs(\"span\",{className:\"category-stock-value\",children:[stock,\" units\"]})]},category);})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"License\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pharmacists.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"empty-state\",children:\"No pharmacists found. Add one to get started.\"})},\"empty-pharmacists\"):pharmacists.map(pharmacist=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:pharmacist.name}),/*#__PURE__*/_jsx(\"td\",{children:pharmacist.email}),/*#__PURE__*/_jsx(\"td\",{children:pharmacist.phone}),/*#__PURE__*/_jsx(\"td\",{children:pharmacist.license}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(pharmacist),className:\"btn btn-secondary btn-sm\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(pharmacist.id),className:\"btn btn-danger btn-sm\",children:\"Delete\"})]})})]},pharmacist.id||pharmacist.email))})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Contact Messages\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Message\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contacts.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",className:\"empty-state\",children:\"No contact messages yet.\"})},\"empty-contacts\"):contacts.map((contact,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:contact.name}),/*#__PURE__*/_jsx(\"td\",{children:contact.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"message-preview\",children:contact.message.length>100?\"\".concat(contact.message.substring(0,100),\"...\"):contact.message})}),/*#__PURE__*/_jsx(\"td\",{children:contact.createdAt?new Date(contact.createdAt).toLocaleDateString():'N/A'})]},contact._id||contact.id||\"contact-\".concat(index)))})]})})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:handleCloseModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:editingPharmacist?'Edit Pharmacist':'Add New Pharmacist'}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:handleCloseModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleInputChange,required:true,placeholder:\"Enter pharmacist name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,required:true,placeholder:\"Enter email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",value:formData.phone,onChange:handleInputChange,required:true,placeholder:\"Enter phone number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"License Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"license\",value:formData.license,onChange:handleInputChange,required:true,placeholder:\"Enter license number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleCloseModal,children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:[editingPharmacist?'Update':'Add',\" Pharmacist\"]})]})]})]})}),/*#__PURE__*/_jsx(ConfirmationModal,{isOpen:confirmModal.isOpen,onClose:cancelDelete,onConfirm:confirmDelete,title:\"Remove Pharmacist Access\",message:\"Are you sure you want to remove \".concat(((_confirmModal$pharmac=confirmModal.pharmacist)===null||_confirmModal$pharmac===void 0?void 0:_confirmModal$pharmac.name)||'this pharmacist',\" from the system? This action will permanently delete all their data and cannot be undone.\"),confirmText:\"Remove Access\",cancelText:\"Keep Pharmacist\",type:\"danger\"})]})]})});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useNavigate","useAuth","StockAlerts","Loader","PageTransition","ConfirmationModal","jsx","_jsx","jsxs","_jsxs","AdminDashboard","_confirmModal$pharmac","pharmacists","setPharmacists","medicines","getStockAlerts","user","logout","fetchMedicines","navigate","contacts","setContacts","orders","setOrders","loading","setLoading","confirmModal","setConfirmModal","isOpen","pharmacist","handleLogout","showModal","setShowModal","editingPharmacist","setEditingPharmacist","formData","setFormData","name","email","phone","license","alerts","useEffect","fetchData","apiUrl","process","env","REACT_APP_BACKEND_URL","token","localStorage","getItem","pharmacistResponse","fetch","concat","headers","console","log","status","ok","pharmacistData","json","map","p","_objectSpread","id","_id","error","statusText","contactResponse","contactData","orderResponse","orderData","setTimeout","stockStats","totalMedicines","length","totalStockValue","reduce","sum","m","price","stock","totalUnits","lowStockCount","filter","outOfStockCount","averageStock","Math","round","stockByCategory","acc","category","handleInputChange","e","target","value","handleSubmit","preventDefault","method","body","JSON","stringify","response","data","handleCloseModal","handleEdit","handleDelete","find","confirmDelete","prev","cancelDelete","children","className","onClick","toFixed","Object","entries","_ref","colSpan","contact","index","message","substring","createdAt","Date","toLocaleDateString","stopPropagation","onSubmit","type","onChange","required","placeholder","onClose","onConfirm","title","confirmText","cancelText"],"sources":["C:/Users/coding.PROGR-PC4/Documents/intarepharmacy-v2/pharmacy-frontend/src/pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport StockAlerts from '../components/StockAlerts';\r\nimport Loader from '../components/Loader';\r\nimport PageTransition from '../components/PageTransition';\r\nimport ConfirmationModal from '../components/ConfirmationModal';\r\nimport './Dashboard.css';\r\n\r\nconst AdminDashboard = () => {\r\n  const { pharmacists, setPharmacists, medicines, getStockAlerts, user, logout, fetchMedicines } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [contacts, setContacts] = useState([]);\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [confirmModal, setConfirmModal] = useState({ isOpen: false, pharmacist: null });\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/');\r\n  };\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingPharmacist, setEditingPharmacist] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    license: '',\r\n  });\r\n\r\n  const alerts = getStockAlerts();\r\n\r\n  // Fetch data from backend\r\n  React.useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      const apiUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:5000';\r\n      const token = localStorage.getItem('token');\r\n      \r\n      try {\r\n        // Fetch pharmacists\r\n        const pharmacistResponse = await fetch(`${apiUrl}/api/admin/pharmacists`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        console.log('Pharmacist response status:', pharmacistResponse.status);\r\n        if (pharmacistResponse.ok) {\r\n          const pharmacistData = await pharmacistResponse.json();\r\n          console.log('Pharmacist data:', pharmacistData);\r\n          setPharmacists(pharmacistData.map(p => ({ ...p, id: p._id })));\r\n        } else {\r\n          console.error('Failed to fetch pharmacists:', pharmacistResponse.statusText);\r\n        }\r\n        \r\n        // Fetch contacts\r\n        const contactResponse = await fetch(`${apiUrl}/api/contact`);\r\n        if (contactResponse.ok) {\r\n          const contactData = await contactResponse.json();\r\n          setContacts(contactData);\r\n        }\r\n        \r\n        // Fetch orders\r\n        const orderResponse = await fetch(`${apiUrl}/api/purchases`);\r\n        if (orderResponse.ok) {\r\n          const orderData = await orderResponse.json();\r\n          setOrders(orderData);\r\n        }\r\n        \r\n        // Fetch medicines\r\n        await fetchMedicines();\r\n      } catch (error) {\r\n        console.error('Failed to fetch data:', error);\r\n      } finally {\r\n        setTimeout(() => setLoading(false), 1000);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [fetchMedicines]);\r\n\r\n  // Calculate stock statistics\r\n  const stockStats = {\r\n    totalMedicines: medicines.length,\r\n    totalStockValue: medicines.reduce((sum, m) => sum + (m.price * m.stock), 0),\r\n    totalUnits: medicines.reduce((sum, m) => sum + m.stock, 0),\r\n    lowStockCount: medicines.filter(m => m.stock < 20 && m.stock > 0).length,\r\n    outOfStockCount: medicines.filter(m => m.stock === 0).length,\r\n    averageStock: medicines.length > 0 \r\n      ? Math.round(medicines.reduce((sum, m) => sum + m.stock, 0) / medicines.length)\r\n      : 0,\r\n    stockByCategory: medicines.reduce((acc, m) => {\r\n      acc[m.category] = (acc[m.category] || 0) + m.stock;\r\n      return acc;\r\n    }, {}),\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const apiUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:5000';\r\n    const token = localStorage.getItem('token');\r\n    \r\n    try {\r\n      if (editingPharmacist) {\r\n        // Update existing pharmacist\r\n        await fetch(`${apiUrl}/api/admin/pharmacists/${editingPharmacist.id}`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n          },\r\n          body: JSON.stringify(formData)\r\n        });\r\n      } else {\r\n        // Add new pharmacist\r\n        await fetch(`${apiUrl}/api/admin/pharmacists`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n          },\r\n          body: JSON.stringify(formData)\r\n        });\r\n      }\r\n      \r\n      // Refresh pharmacists list\r\n      const response = await fetch(`${apiUrl}/api/admin/pharmacists`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setPharmacists(data.map(p => ({ ...p, id: p._id })));\r\n      }\r\n      \r\n      handleCloseModal();\r\n    } catch (error) {\r\n      console.error('Error saving pharmacist:', error);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (pharmacist) => {\r\n    setEditingPharmacist(pharmacist);\r\n    setFormData({\r\n      name: pharmacist.name,\r\n      email: pharmacist.email,\r\n      phone: pharmacist.phone,\r\n      license: pharmacist.license,\r\n    });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    const pharmacist = pharmacists.find(p => p.id === id);\r\n    setConfirmModal({ isOpen: true, pharmacist });\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (confirmModal.pharmacist) {\r\n      const apiUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:5000';\r\n      const token = localStorage.getItem('token');\r\n      \r\n      try {\r\n        await fetch(`${apiUrl}/api/admin/pharmacists/${confirmModal.pharmacist.id}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        // Refresh pharmacists list\r\n        setPharmacists(prev => prev.filter(p => p.id !== confirmModal.pharmacist.id));\r\n      } catch (error) {\r\n        console.error('Error deleting pharmacist:', error);\r\n      }\r\n    }\r\n    setConfirmModal({ isOpen: false, pharmacist: null });\r\n  };\r\n\r\n  const cancelDelete = () => {\r\n    setConfirmModal({ isOpen: false, pharmacist: null });\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n    setEditingPharmacist(null);\r\n    setFormData({\r\n      name: '',\r\n      email: '',\r\n      phone: '',\r\n      license: '',\r\n    });\r\n  };\r\n\r\n  if (loading) return <Loader />;\r\n\r\n  return (\r\n    <PageTransition>\r\n    <div className=\"dashboard\">\r\n      <div className=\"dashboard-topbar\">\r\n        <div className=\"container\">\r\n          <div className=\"topbar-content\">\r\n            <h1>Admin Dashboard</h1>\r\n            <div className=\"user-logout-section\">\r\n              <span className=\"user-name-display\">{user?.name}</span>\r\n              <button onClick={handleLogout} className=\"btn-logout-dashboard\">\r\n                <span className=\"logout-icon\"><i className=\"fa-solid fa-arrow-right-from-bracket\"></i></span>\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"container\">\r\n        <div className=\"dashboard-header\">\r\n          <h2>Manage Pharmacists</h2>\r\n          <button\r\n            onClick={() => setShowModal(true)}\r\n            className=\"btn btn-primary\"\r\n          >\r\n            + Add Pharmacist\r\n          </button>\r\n        </div>\r\n\r\n        {alerts.length > 0 && <StockAlerts />}\r\n\r\n        {/* Stock Statistics Section */}\r\n        <div className=\"stats-section\">\r\n          <h2>Stock Statistics</h2>\r\n          <div className=\"stats-grid\">\r\n            <div className=\"stat-card\">\r\n              <div className=\"stat-icon\">üíä</div>\r\n              <div className=\"stat-content\">\r\n                <h3>{stockStats.totalMedicines}</h3>\r\n                <p>Total Medicines</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <div className=\"stat-icon\">üì¶</div>\r\n              <div className=\"stat-content\">\r\n                <h3>{stockStats.totalUnits}</h3>\r\n                <p>Total Units in Stock</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <div className=\"stat-icon\">üí∞</div>\r\n              <div className=\"stat-content\">\r\n                <h3>${stockStats.totalStockValue.toFixed(2)}</h3>\r\n                <p>Total Stock Value</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card stat-warning\">\r\n              <div className=\"stat-icon\">‚ö†Ô∏è</div>\r\n              <div className=\"stat-content\">\r\n                <h3>{stockStats.lowStockCount}</h3>\r\n                <p>Low Stock Items</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card stat-danger\">\r\n              <div className=\"stat-icon\">üö´</div>\r\n              <div className=\"stat-content\">\r\n                <h3>{stockStats.outOfStockCount}</h3>\r\n                <p>Out of Stock</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <div className=\"stat-icon\">üìä</div>\r\n              <div className=\"stat-content\">\r\n                <h3>{stockStats.averageStock}</h3>\r\n                <p>Average Stock Level</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Stock by Category */}\r\n          <div className=\"category-stock\">\r\n            <h3>Stock by Category</h3>\r\n            <div className=\"category-grid\">\r\n              {Object.entries(stockStats.stockByCategory).map(([category, stock]) => (\r\n                <div key={category} className=\"category-item\">\r\n                  <span className=\"category-name\">{category}</span>\r\n                  <span className=\"category-stock-value\">{stock} units</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dashboard-section\">\r\n          <div className=\"table-container\">\r\n            <table className=\"data-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Name</th>\r\n                  <th>Email</th>\r\n                  <th>Phone</th>\r\n                  <th>License</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n  {pharmacists.length === 0 ? (\r\n    <tr key=\"empty-pharmacists\">\r\n      <td colSpan=\"5\" className=\"empty-state\">\r\n        No pharmacists found. Add one to get started.\r\n      </td>\r\n    </tr>\r\n  ) : (\r\n    pharmacists.map(pharmacist => (\r\n      <tr key={pharmacist.id || pharmacist.email}>\r\n        <td>{pharmacist.name}</td>\r\n        <td>{pharmacist.email}</td>\r\n        <td>{pharmacist.phone}</td>\r\n        <td>{pharmacist.license}</td>\r\n        <td>\r\n          <div className=\"action-buttons\">\r\n            <button\r\n              onClick={() => handleEdit(pharmacist)}\r\n              className=\"btn btn-secondary btn-sm\"\r\n            >\r\n              Edit\r\n            </button>\r\n            <button\r\n              onClick={() => handleDelete(pharmacist.id)}\r\n              className=\"btn btn-danger btn-sm\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    ))\r\n  )}\r\n</tbody>\r\n\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dashboard-section\">\r\n          <h2>Contact Messages</h2>\r\n          <div className=\"table-container\">\r\n            <table className=\"data-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Name</th>\r\n                  <th>Email</th>\r\n                  <th>Message</th>\r\n                  <th>Date</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {contacts.length === 0 ? (\r\n                  <tr key=\"empty-contacts\">\r\n                    <td colSpan=\"4\" className=\"empty-state\">\r\n                      No contact messages yet.\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  contacts.map((contact, index) => (\r\n                    <tr key={contact._id || contact.id || `contact-${index}`}>\r\n                      <td>{contact.name}</td>\r\n                      <td>{contact.email}</td>\r\n                      <td>\r\n                        <div className=\"message-preview\">\r\n                          {contact.message.length > 100 \r\n                            ? `${contact.message.substring(0, 100)}...` \r\n                            : contact.message\r\n                          }\r\n                        </div>\r\n                      </td>\r\n                      <td>{contact.createdAt ? new Date(contact.createdAt).toLocaleDateString() : 'N/A'}</td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {showModal && (\r\n          <div className=\"modal-overlay\" onClick={handleCloseModal}>\r\n            <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n              <div className=\"modal-header\">\r\n                <h2>{editingPharmacist ? 'Edit Pharmacist' : 'Add New Pharmacist'}</h2>\r\n                <button className=\"close-btn\" onClick={handleCloseModal}>√ó</button>\r\n              </div>\r\n\r\n              <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                  <label>Full Name *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={formData.name}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                    placeholder=\"Enter pharmacist name\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Email *</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={formData.email}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                    placeholder=\"Enter email address\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Phone *</label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    name=\"phone\"\r\n                    value={formData.phone}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                    placeholder=\"Enter phone number\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>License Number *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"license\"\r\n                    value={formData.license}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                    placeholder=\"Enter license number\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"modal-actions\">\r\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseModal}>\r\n                    Cancel\r\n                  </button>\r\n                  <button type=\"submit\" className=\"btn btn-primary\">\r\n                    {editingPharmacist ? 'Update' : 'Add'} Pharmacist\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <ConfirmationModal\r\n          isOpen={confirmModal.isOpen}\r\n          onClose={cancelDelete}\r\n          onConfirm={confirmDelete}\r\n          title=\"Remove Pharmacist Access\"\r\n          message={`Are you sure you want to remove ${confirmModal.pharmacist?.name || 'this pharmacist'} from the system? This action will permanently delete all their data and cannot be undone.`}\r\n          confirmText=\"Remove Access\"\r\n          cancelText=\"Keep Pharmacist\"\r\n          type=\"danger\"\r\n        />\r\n      </div>\r\n    </div>\r\n    </PageTransition>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}